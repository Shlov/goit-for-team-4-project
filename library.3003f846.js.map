{"mappings":"gfAEA,IAAAA,EAAAC,EAAA,S,0BAIMC,EAAgBC,SAASC,cAAc,cACvCC,EAAcF,SAASC,cAAc,cACrCE,EAAYH,SAASC,cAAc,YACnCG,EAAa,IAAI,EAAAC,EAAAC,SAgGvB,SAASC,IACPJ,EAAUK,UAAY,E,CA/FxBT,EAAcU,iBAAiB,SAIP,WACtBF,IAuEKR,EAAcW,UAAUC,SAAS,YACpCZ,EAAcW,UAAUE,IAAI,UAC5BV,EAAYQ,UAAUC,SAAS,WAC3BT,EAAYQ,UAAUG,OAAO,YAvEhB,EAAAhB,EAAAiB,MAAK,SACbC,SAAQ,SAAAC,GACjBZ,EAAWa,eAAeD,GAAME,MAAK,SAAAC,GACnC,IAAMC,EAAS,qCAEMC,OAF+BF,EAAKG,GAAG,8CAOjBD,OALtBF,EAAKG,GAAG,gLAMlBD,OADgCF,EAAKI,YAAY,sBAKjCF,OAJhBF,EAAKK,eAAe,iGAMzBH,OAFqBF,EAAKM,MAAM,qDAEPJ,OAAzBF,EAAKO,OAAO,GAAGC,KAAK,OAClBN,OADuBF,EAAKS,aAAa,6CACvBP,OAAlBF,EAAKU,aAAa,8DAK1B1B,EAAU2B,mBAAmB,YAAaV,E,OAI9CW,WAAWC,EAAAC,sBAAuB,I,IAlCpC/B,EAAYO,iBAAiB,SAuCL,WACtBF,IA4CKL,EAAYQ,UAAUC,SAAS,YAClCT,EAAYQ,UAAUE,IAAI,UAC1Bb,EAAcW,UAAUC,SAAS,WAC7BZ,EAAcW,UAAUG,OAAO,YA5CpB,EAAAhB,EAAAiB,MAAK,SACbC,SAAQ,SAAAC,GACfZ,EAAWa,eAAeD,GAAME,MAAK,SAAAC,GACnC,IAAMC,EAAS,qCAEMC,OAF+BF,EAAKG,GAAG,8CAOjBD,OALtBF,EAAKG,GAAG,gLAMlBD,OADgCF,EAAKI,YAAY,sBAKjCF,OAJhBF,EAAKK,eAAe,iGAMzBH,OAFqBF,EAAKM,MAAM,qDAEPJ,OAAzBF,EAAKO,OAAO,GAAGC,KAAK,OAClBN,OADuBF,EAAKS,aAAa,6CACvBP,OAAlBF,EAAKU,aAAa,8DAK1B1B,EAAU2B,mBAAmB,YAAaV,E,OAI9CW,WAAWC,EAAAC,sBAAuB,I","sources":["src/js/gallery.js"],"sourcesContent":["// import { getFromStorage } from '';\n// import { renderGalleryFilms } from './render-gallery-films';\nimport { load } from './local_storage';\nimport newsApiService from './fetch';\nimport { addListenerBtnYouTube } from './trailer';\n\nconst watchedButton = document.querySelector('.btn-watch');\nconst queueButton = document.querySelector('.btn-queue');\nconst galleryEl = document.querySelector('.gallery');\nconst ApiService = new newsApiService();\n\nwatchedButton.addEventListener('click', handleClickWatched);\nqueueButton.addEventListener('click', handleClickQueue);\n\n// Отрисовка фильмов из списка watch\nfunction handleClickWatched() {\n  cleanHTML();\n  addWatchListActive();\n\n  const arrWatched = load('watch');\n  arrWatched.forEach(film => {\n    ApiService.getFilmDetails(film).then(data => {\n      const markup = `<li class=\"card card-js\" data-id=\"${data.id}\">\n      <div>\n        <button data-id=\"${data.id}\" class=\"button-youtube\"></button>\n      </div>\n      <div class=\"card__wrap\">\n        <img\n          class=\"card__img\"\n          src=\"https://image.tmdb.org/t/p/w500/${data.poster_path}\"\n          alt=\"${data.original_title}\"\n          width=\"395\"\n          height=\"574\"\n        />\n        <h3 class=\"card__name\">${data.title}</h3>\n        <p class=\"card__info\">\n          ${data.genres[0].name} | ${data.release_date}<span class=\"card__rating\">\n            ${data.vote_average}\n          </span>\n        </p>\n      </div>\n    </li>`;\n      galleryEl.insertAdjacentHTML('beforeend', markup);\n    });\n  });\n\n  setTimeout(addListenerBtnYouTube, 500);\n}\n\n\n// // Отрисовка фильмов из списка watch\nfunction handleClickQueue() {\n  cleanHTML();\n  addQueueListActive();\n\n  const arrQueue = load('queue');\n  arrQueue.forEach(film => {\n    ApiService.getFilmDetails(film).then(data => {\n      const markup = `<li class=\"card card-js\" data-id=\"${data.id}\">\n      <div>\n        <button data-id=\"${data.id}\" class=\"button-youtube\"></button>\n      </div>\n      <div class=\"card__wrap\">\n        <img\n          class=\"card__img\"\n          src=\"https://image.tmdb.org/t/p/w500/${data.poster_path}\"\n          alt=\"${data.original_title}\"\n          width=\"395\"\n          height=\"574\"\n        />\n        <h3 class=\"card__name\">${data.title}</h3>\n        <p class=\"card__info\">\n          ${data.genres[0].name} | ${data.release_date}<span class=\"card__rating\">\n            ${data.vote_average}\n          </span>\n        </p>\n      </div>\n    </li>`;\n      galleryEl.insertAdjacentHTML('beforeend', markup);\n    });\n  });\n\n  setTimeout(addListenerBtnYouTube, 500);\n}\n\n// Проверка состояния кнопок watch и queue\nfunction addWatchListActive() {\n  if (!watchedButton.classList.contains('active')) {\n    watchedButton.classList.add('active');\n    queueButton.classList.contains('active')\n      ? queueButton.classList.remove('active')\n      : null;\n  }\n}\n\nfunction addQueueListActive() {\n  if (!queueButton.classList.contains('active')) {\n    queueButton.classList.add('active');\n    watchedButton.classList.contains('active')\n      ? watchedButton.classList.remove('active')\n      : null;\n  }\n}\n\n// Очистка страницы\nfunction cleanHTML() {\n  galleryEl.innerHTML = '';\n}\n\n// const getFromStorage = key => {\n//   try {\n//     return JSON.parse(localStorage.getItem(key));\n//   } catch (error) {\n//     console.error(error);\n//   }\n// };\n\n// const refs = {\n//   queueButton: document.querySelector('.js-queue-button'),\n//   watchedButton: document.querySelector('.js-watched-button'),\n// };\n\n// refs.watchedButton.addEventListener('click', handleClickWatched);\n// refs.queueButton.addEventListener('click', handleClickQueue);\n\n// renderSavedFilms('watch');\n\n// function handleClickQueue() {\n//   renderSavedFilms('queue');\n//   removeDisabled(refs.watchedButton);\n//   setDisabled(refs.queueButton);\n//   refs.isWatchTabActive = false;\n// }\n\n// function handleClickWatched() {\n//   renderSavedFilms('watch');\n//   setDisabled(refs.watchedButton);\n//   removeDisabled(refs.queueButton);\n//   refs.isWatchTabActive = true;\n// }\n\n// function renderSavedFilms(name) {\n//   clearFilmList();\n//   const addedFilms = getFromStorage(name);\n//   if (addedFilms && addedFilms.length > 0) {\n//     renderGalleryFilms(addedFilms);\n//     refs.noFilmsMessage.classList.add('visually-hidden');\n//   } else {\n//     refs.noFilmsMessage.classList.remove('visually-hidden');\n//   }\n// }\n\n// function setDisabled(el) {\n//   el.setAttribute('disabled', '');\n//   el.classList.add('button-active');\n// }\n\n// function removeDisabled(el) {\n//   el.removeAttribute('disabled');\n//   el.classList.remove('button-active');\n// }\n\n// function clearFilmList() {\n//   refs.cardsContainer.innerHTML = '';\n// }\n"],"names":["$cbazt","parcelRequire","$6756f0db6f988caf$var$watchedButton","document","querySelector","$6756f0db6f988caf$var$queueButton","$6756f0db6f988caf$var$galleryEl","$6756f0db6f988caf$var$ApiService","$5g02X","default","$6756f0db6f988caf$var$cleanHTML","innerHTML","addEventListener","classList","contains","add","remove","load","forEach","film","getFilmDetails","then","data","markup","concat","id","poster_path","original_title","title","genres","name","release_date","vote_average","insertAdjacentHTML","setTimeout","$cDXQO","addListenerBtnYouTube"],"version":3,"file":"library.3003f846.js.map"}